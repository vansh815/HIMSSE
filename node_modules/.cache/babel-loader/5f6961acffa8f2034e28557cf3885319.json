{"ast":null,"code":"var _jsxFileName = \"/Users/vanshsmacpro/Desktop/Software_engineering/HIMSSE/src/components/SearchProfile.js\";\nimport React, { Component } from 'react';\nimport { Form, Row, Col, Container, Button, Jumbotron } from \"react-bootstrap\";\nimport { useLocation } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport axios from 'axios';\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst SearchProfile = () => {\n  const {\n    user,\n    getAccessTokenSilently,\n    isAuthenticated\n  } = useAuth0();\n  const location = useLocation();\n  const [state, setState] = React.useState({\n    first_name: location.state.detail.first_name,\n    last_name: location.state.detail.last_name,\n    speciality: location.state.detail.speciality,\n    address: location.state.detail.address,\n    doctor_email: location.state.detail.address\n  });\n\n  const handleChange = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const callSecureApi = async query => {\n    const token = await getAccessTokenSilently();\n    const apiUrl = process.env.REACT_APP_API_URL;\n    console.log(query);\n    const searchquery = await axios({\n      headers: {\n        authorization: `Bearer ${token}`\n      },\n      method: 'get',\n      url: `${apiUrl}/booking/details`,\n      params: query\n    });\n    return searchquery;\n  };\n\n  const handleSubmit = event => {\n    // GET\n    event.preventDefault();\n    let query = {\n      doctor_email: state.first_name\n    };\n    const searchquery = callSecureApi(query);\n    console.log(searchquery);\n  };\n\n  const handleConfirm = event => {\n    //POST\n    event.preventDefault();\n    const appointment = state.date + \"/\" + state.time;\n    alert(appointment);\n  };\n\n  useEffect(() => {\n    state.first_name = location.state.detail.first_name;\n    state.last_name = location.state.detail.last_name;\n    state.speciality = location.state.detail.speciality;\n    state.address = location.state.detail.address;\n    state.doctor_email = location.state.detail.address;\n  }, [location]);\n  /*componentDidMount() {\n      var item = this.props.history.location.state.item;\n      console.log(this.props.history.location.state.item);\n      this.setState({\n        firstname: item.firstname,\n        lastname: item.lastname,\n        speciality: item.speciality,\n        location: item.location,\n      });\n    }*/\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    style: {\n      backgroundColor: \"#65aabf\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"Profile Page\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"First Name : \", state.first_name, \"\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }), \"Last Name : \", state.last_name, \"\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }), \"Speciality : \", state.speciality, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }), \"Location : \", state.address)), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    for: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 23\n    }\n  }, \"Date: \"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"date\",\n    name: \"date\",\n    value: state.date,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    for: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 23\n    }\n  }, \"Time: \"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"time\",\n    step: \"1800\",\n    name: \"time\",\n    value: state.time,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"Book Appointment\"), ' ')), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: handleConfirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"Confirm Appointment\"))))));\n};\n/*\nfunction SearchProfile(props) {\n  const { user, isLoading } = useAuth0();\n  console.log(props);\n  const location = useLocation();\n\n  useEffect(() => {\n    console.log(location); // result: '/secondpage'\n    //console.log(location.search); // result: '?query=abc'\n    console.log(location.state.details); // result: 'some_value'\n  }, [location]);\n  return (\n    <div>\n      <Jumbotron>\n        <h1>Profile of {location.state.details.first_name} {location.state.details.last_name}</h1>\n        <p>\n          Speciality : {location.state.details.speciality}\n          <br/>\n          City : {location.state.details.city}\n        </p>\n        <p>\n          <Button variant=\"primary\">Learn more</Button>\n        </p>\n      </Jumbotron>\n    </div>\n  );\n}\n\nexport default SearchProfile;\n*/\n\n\nexport default SearchProfile;","map":{"version":3,"sources":["/Users/vanshsmacpro/Desktop/Software_engineering/HIMSSE/src/components/SearchProfile.js"],"names":["React","Component","Form","Row","Col","Container","Button","Jumbotron","useLocation","useEffect","axios","useAuth0","SearchProfile","user","getAccessTokenSilently","isAuthenticated","location","state","setState","useState","first_name","detail","last_name","speciality","address","doctor_email","handleChange","event","target","name","value","callSecureApi","query","token","apiUrl","process","env","REACT_APP_API_URL","console","log","searchquery","headers","authorization","method","url","params","handleSubmit","preventDefault","handleConfirm","appointment","date","time","alert","backgroundColor"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { Form, Row, Col, Container, Button, Jumbotron } from \"react-bootstrap\";\nimport { useLocation } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport axios from 'axios'\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\n\nconst SearchProfile = () => {\n  const { user, getAccessTokenSilently , isAuthenticated} = useAuth0();\n  const location = useLocation();\n\n  const [state, setState] = React.useState({\n    first_name: location.state.detail.first_name,\n    last_name: location.state.detail.last_name,\n    speciality: location.state.detail.speciality,\n    address: location.state.detail.address,\n    doctor_email : location.state.detail.address\n  });\n\n    const handleChange = (event) => {\n      setState({\n        ...state,\n        [event.target.name]: event.target.value,\n      });\n    };\n    const callSecureApi = async (query) => {\n      const token = await getAccessTokenSilently();\n      const apiUrl = process.env.REACT_APP_API_URL;\n      console.log(query)\n      const searchquery = await axios({\n        headers: {\n            authorization: `Bearer ${token}`\n          },\n        method: 'get',\n        url: `${apiUrl}/booking/details`,\n        params : query\n      })\n      return searchquery\n    }\n    const handleSubmit = (event) => { // GET\n      \n      event.preventDefault();\n      let query=  {\n        doctor_email : state.first_name,\n      }\n      const searchquery = callSecureApi(query);\n      console.log(searchquery);\n      \n    };\n\n    const handleConfirm = (event) => { //POST\n      event.preventDefault();\n      const appointment = state.date + \"/\" + state.time;\n      alert(appointment)\n    }\n\n    useEffect(() => {\n      state.first_name = location.state.detail.first_name;\n      state.last_name = location.state.detail.last_name;\n      state.speciality = location.state.detail.speciality;\n      state.address = location.state.detail.address;\n      state.doctor_email = location.state.detail.address;\n    }, [location]);\n\n    /*componentDidMount() {\n        var item = this.props.history.location.state.item;\n        console.log(this.props.history.location.state.item);\n        this.setState({\n          firstname: item.firstname,\n          lastname: item.lastname,\n          speciality: item.speciality,\n          location: item.location,\n        });\n      }*/\n    \n    return (\n        <Container>\n          <Jumbotron style={{ backgroundColor: \"#65aabf\" }}>\n            <Row>\n              <Col>\n                <h1>Profile Page</h1>\n                <p>\n                  First Name : {state.first_name}\n                  {\"\"}\n                  <br />\n                  Last Name : {state.last_name}\n                  {\"\"}\n                  <br />\n                  Speciality : {state.speciality}\n                  <br />\n                  Location : {state.address}\n                </p>\n              </Col>\n\n              <Col>\n                <Form onSubmit={handleSubmit}>\n                  <Form.Group>\n                    <Row>\n                      <Form.Label for=\"date\">Date: </Form.Label>\n                      <Form.Control type=\"date\" name=\"date\" value={state.date} onChange={handleChange} />\n                    </Row>\n                    <br />\n                    <Row>\n                      <Form.Label for=\"time\">Time: </Form.Label>\n                      <Form.Control type=\"time\" step=\"1800\" name=\"time\" value={state.time} onChange={handleChange} />\n                    </Row>\n                    <br />\n                    <Button variant=\"dark\" type=\"submit\">Book Appointment</Button>{' '}\n                      \n                  </Form.Group>\n                </Form>\n      \n                <p>\n                  <Button variant=\"dark\" onClick={handleConfirm}>Confirm Appointment</Button>\n                </p>\n              </Col>\n            </Row>\n          </Jumbotron>\n        </Container>\n      );\n}\n/*\nfunction SearchProfile(props) {\n  const { user, isLoading } = useAuth0();\n  console.log(props);\n  const location = useLocation();\n\n  useEffect(() => {\n    console.log(location); // result: '/secondpage'\n    //console.log(location.search); // result: '?query=abc'\n    console.log(location.state.details); // result: 'some_value'\n  }, [location]);\n  return (\n    <div>\n      <Jumbotron>\n        <h1>Profile of {location.state.details.first_name} {location.state.details.last_name}</h1>\n        <p>\n          Speciality : {location.state.details.speciality}\n          <br/>\n          City : {location.state.details.city}\n        </p>\n        <p>\n          <Button variant=\"primary\">Learn more</Button>\n        </p>\n      </Jumbotron>\n    </div>\n  );\n}\n\nexport default SearchProfile;\n*/\nexport default SearchProfile;"]},"metadata":{},"sourceType":"module"}