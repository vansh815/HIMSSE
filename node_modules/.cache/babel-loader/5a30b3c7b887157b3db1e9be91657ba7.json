{"ast":null,"code":"var _jsxFileName = \"/Users/vanshsmacpro/Desktop/Software_engineering/HIMSSE/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nfunction results(data, fullSearch) {\n  let len = data.length;\n\n  if (fullSearch == '   ') {\n    fullSearch = \"nothing\";\n  }\n\n  if (len == 0) {\n    return \"Your search of \" + fullSearch + \" returned no results\";\n  }\n\n  let resString = \"Your search of \" + fullSearch + \" returned \" + len + \" results <p>\";\n\n  for (let i = 0; i < len; i++) {\n    let res = data[i];\n    resString += \"\" + res.first_name + \" \" + res.last_name + \" specialty: \" + res.speciality + \" location: \" + res.city + \"<p>\";\n  }\n\n  return resString;\n}\n\nconst Search = props => {\n  let text = \"\";\n  const {\n    getAccessTokenSilently\n  } = useAuth0();\n  const token = getAccessTokenSilently();\n  const [state, setState] = React.useState({\n    first_name: '',\n    last_name: '',\n    speciality: '',\n    city: ''\n  });\n\n  const handleSubmit = event => {\n    var fullSearch = state.first_name + ' ' + state.last_name + ' ' + state.speciality + ' ' + state.city;\n    event.preventDefault();\n    const searchquerry = axios({\n      headers: {\n        authorization: 'Bearer ${token}'\n      },\n      method: 'get',\n      url: 'http://localhost:3010/doctor/details',\n      params: {\n        first_name: state.first_name,\n        last_name: state.last_name,\n        speciality: state.speciality,\n        city: state.city\n      }\n    });\n    searchquerry.then(result => {\n      text = results(result.data, fullSearch);\n      console.log(result);\n      document.getElementById(\"demo\").innerHTML = text;\n    }).catch(error => {\n      console.error(error);\n    });\n    setState({\n      first_name: '',\n      last_name: '',\n      speciality: '',\n      city: ''\n    });\n  };\n\n  const handleChange = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchResults\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter first name\",\n    name: \"first_name\",\n    value: state.first_name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter last name...\",\n    name: \"last_name\",\n    value: state.last_name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter specialization...\",\n    name: \"speciality\",\n    value: state.speciality,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter location...\",\n    name: \"city\",\n    value: state.city,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    value: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"demo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/vanshsmacpro/Desktop/Software_engineering/HIMSSE/src/components/Search.js"],"names":["React","Component","axios","useAuth0","results","data","fullSearch","len","length","resString","i","res","first_name","last_name","speciality","city","Search","props","text","getAccessTokenSilently","token","state","setState","useState","handleSubmit","event","preventDefault","searchquerry","headers","authorization","method","url","params","then","result","console","log","document","getElementById","innerHTML","catch","error","handleChange","target","name","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { useAuth0 } from \"@auth0/auth0-react\";\nfunction results (data, fullSearch)\n    {\n      let len = data.length\n      if (fullSearch == '   '){\n        fullSearch = \"nothing\"\n      }\n      if (len == 0){\n          return \"Your search of \" + fullSearch + \" returned no results\"\n      }\n      let resString = \"Your search of \" + fullSearch + \" returned \" + len + \" results <p>\"\n      for(let i = 0; i < len; i++){\n        let res = data[i]\n        resString += \"\" + res.first_name + \" \" + res.last_name + \" specialty: \" + res.speciality + \" location: \" + res.city + \"<p>\";\n      }\n      return resString\n    }\nconst Search = (props) => {\n    let text = \"\"\n    const { getAccessTokenSilently } = useAuth0();\n    const token = getAccessTokenSilently();\n    const [state, setState] = React.useState({\n        first_name: '',\n        last_name: '',\n        speciality: '',\n        city: ''\n      });\n    \n    \n    \n    const handleSubmit = (event) => {\n        var fullSearch = state.first_name + ' ' + state.last_name + ' ' + state.speciality + ' ' + state.city;\n        event.preventDefault();\n        const searchquerry = axios({\n            headers: {\n                authorization: 'Bearer ${token}'\n              },\n            method: 'get',\n            url: 'http://localhost:3010/doctor/details',\n            params: {\n              first_name: state.first_name,\n              last_name: state.last_name,\n              speciality: state.speciality,\n              city: state.city\n            }\n          });\n        searchquerry.then(result => {text = results(result.data, fullSearch); console.log(result); document.getElementById(\"demo\").innerHTML = text;  })\n        .catch(error => { console.error(error); })\n\n        setState({first_name:'',\n                 last_name: '',\n                 speciality:'',\n                city: ''});        \n\n    }\n    \n    const handleChange = (event) => {\n        setState({\n            ...state,\n            [event.target.name]: event.target.value\n        });\n    }\n   \n    return (\n      <div className= \"searchResults\">\n        <form onSubmit={handleSubmit}>\n            <input type = \"text\" placeholder=\"Enter first name\" name=\"first_name\" value = {state.first_name} onChange={handleChange} />\n            <input type = \"text\" placeholder=\"Enter last name...\" name=\"last_name\" value = {state.last_name} onChange={handleChange} />\n            <input type = \"text\" placeholder=\"Enter specialization...\" name=\"speciality\" value = {state.speciality} onChange={handleChange} />\n            <input type = \"text\" placeholder=\"Enter location...\" name=\"city\" value = {state.city} onChange={handleChange} />\n            <button type = \"submit\" value = \"submit\">Search</button> \n        </form>\n        {/* search results here*/}\n        <p id = \"demo\"></p>\n        \n        </div>\n    )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}