{"ast":null,"code":"var _jsxFileName = \"/Users/vanshsmacpro/Desktop/Software_engineering/HIMSSE/src/views/home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport LandingPage from '../components/navbar/landing-page/LandingPage';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { Link, useHistory } from \"react-router-dom\";\nexport const Home = () => {\n  const {\n    user,\n    getAccessTokenSilently,\n    isAuthenticated\n  } = useAuth0();\n  const [userId, setUserId] = useState({});\n  const [flag, setFlag] = useState(true);\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const history = useHistory();\n  useEffect(() => {\n    (async () => {\n      if (isAuthenticated) {\n        const token = await getAccessTokenSilently();\n        const response = await fetch(`${apiUrl}/user/details`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(response => {\n          return response.json(); // if (!response.ok) {\n          //   console.log(\"Public User\") \n          //   history.push(\"/capture-details\");\n          // } else {\n          //   return response.json()\n          // }\n        }).then(data => {\n          console.log(data);\n\n          if (!data) {\n            let path = \"/profile\";\n            history.push(path);\n          } else {\n            let path = \"/dashboard\";\n            history.push(path);\n          }\n        });\n      }\n    })(user);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"landing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(LandingPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }));\n};\nexport default Home;","map":{"version":3,"sources":["/Users/vanshsmacpro/Desktop/Software_engineering/HIMSSE/src/views/home.js"],"names":["React","useState","useEffect","LandingPage","useAuth0","Link","useHistory","Home","user","getAccessTokenSilently","isAuthenticated","userId","setUserId","flag","setFlag","apiUrl","process","env","REACT_APP_API_URL","history","token","response","fetch","method","headers","Authorization","then","json","data","console","log","path","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,+CAAxB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAM;AACxB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,sBAAR;AAAiCC,IAAAA;AAAjC,MAAoDN,QAAQ,EAAlE;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMc,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA3B;AACA,QAAMC,OAAO,GAAGb,UAAU,EAA1B;AACAJ,EAAAA,SAAS,CAAC,MAAM;AACd,KAAC,YAAY;AACX,UAAGQ,eAAH,EAAmB;AACnB,cAAMU,KAAK,GAAG,MAAMX,sBAAsB,EAA1C;AACA,cAAMY,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEP,MAAO,eAAX,EAA2B;AAACQ,UAAAA,MAAM,EAAE,KAAT;AAAeC,UAAAA,OAAO,EAAE;AAACC,YAAAA,aAAa,EAAG,UAASL,KAAM;AAAhC;AAAxB,SAA3B,CAAL,CAEpBM,IAFoB,CAEdL,QAAD,IAAc;AACpB,iBAAOA,QAAQ,CAACM,IAAT,EAAP,CADoB,CAEpB;AACA;AACA;AACA;AACA;AACA;AACD,SAVsB,EAWxBD,IAXwB,CAWlBE,IAAD,IAAS;AACbC,UAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,cAAI,CAACA,IAAL,EAAU;AACR,gBAAIG,IAAI,GAAG,UAAX;AACAZ,YAAAA,OAAO,CAACa,IAAR,CAAaD,IAAb;AACD,WAHD,MAII;AACF,gBAAIA,IAAI,GAAG,YAAX;AACAZ,YAAAA,OAAO,CAACa,IAAR,CAAaD,IAAb;AACD;AACF,SArBwB,CAAvB;AAqBC;AAAC,KAxBJ,EAwBMvB,IAxBN;AAyBD,GA1BQ,CAAT;AA6BA,sBACA;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADA;AAKC,CAxCI;AA0CP,eAAeD,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport LandingPage from '../components/navbar/landing-page/LandingPage';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nexport const Home = () => { \n  const { user, getAccessTokenSilently , isAuthenticated} = useAuth0();\n  const [userId, setUserId] = useState({});\n  const [flag, setFlag] = useState(true);\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const history = useHistory();\n  useEffect(() => {\n    (async () => {\n      if(isAuthenticated){\n      const token = await getAccessTokenSilently();\n      const response = await fetch(`${apiUrl}/user/details`, {method: \"GET\",headers: {Authorization: `Bearer ${token}`}\n      \n      }).then((response) => {\n        return response.json()\n        // if (!response.ok) {\n        //   console.log(\"Public User\") \n        //   history.push(\"/capture-details\");\n        // } else {\n        //   return response.json()\n        // }\n      })\n    .then((data) =>{\n      console.log(data)\n      if (!data){\n        let path = \"/profile\"\n        history.push(path)\n      }\n      else{\n        let path = \"/dashboard\"\n        history.push(path)\n      }\n    })}})(user);\n  },);\n  \n  \n  return (\n  <div className=\"landing\">\n    <LandingPage />\n  </div>\n  );\n  };\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}